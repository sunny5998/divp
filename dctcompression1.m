close all
clear all
%DCT compression

I=[154 123 123 123 123 123 123 136
   192 180 136 154 154 154 136 110
   254 198 154 154 180 154 123 123
   239 180 136 180 180 166 123 123
   180 154 136 167 166 149 136 136
   128 136 123 136 154 180 198 154
   123 105 110 149 136 136 180 166
   110 136 123 123 123 136 154 136];
disp('I=');
disp(I);

M=I-128;
for i=0:1:7
    for j=0:1:7
        if i==0
            T(i+1,j+1)=sqrt(1/8);
        else
            T(i+1,j+1)=sqrt(2/8)*cos(((2*j)+1)*i*pi/16);
        end
    end
end

D=(T*M)*T';
Q=[16 11 10 16 24 40 51 61
   12 12 14 19 26 58 60 55
   14 13 16 24 40 57 69 56
   14 17 22 29 51 87 80 62
   18 22 37 56 68 109 103 77
   24 35 55 64 81 104 113 92
   49 64 78 87 103 121 120 101
   72 92 95 98 112 100 103 99];

C=round(D./Q);
R=Q.*C;
N=round(T'*R*T)+128;
disp('N=');
disp(N);
